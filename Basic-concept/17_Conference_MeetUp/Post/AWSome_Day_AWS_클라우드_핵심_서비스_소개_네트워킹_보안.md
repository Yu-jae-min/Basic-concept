# **[AWSome Day] AWS 클라우드 핵심 서비스 소개: 네트워킹, 보안**

23년 06월 15일

<br>

## **4. AWS 클라우드 핵심 서비스 소개: 네트워킹, 보안**

### **4-1. 네트워킹**

<img width="678" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_01" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/874dba9a-7c2b-46e6-97d4-3a279c9e16a5">

먼저 네트워킹에 대해 살펴보자. Amazon Virtual Private Cloud, 줄여서 `VPC`는 사용자가 정의하는 논리적으로 격리된 가상 네트워크에서 AWS 리소스를 시작하기 위해서 사용할 수 있는 서비스이다. 이 `VPC` 내에서 Amazon EC2 인스턴스와 같은 AWS 리소스를 생성해서 사용할 수 있다. `VPC`는 리전 범위의 서비스이며 선택한 리전의 가용영역에 걸쳐서 생성된다. `VPC`는 IP 주소의 범위 상태, 서브넷 생성, 라우팅 테이블 및 인터넷 게이트웨이 구성 등 가상 네트워킹 환경을 사용자가 직접 제어할 수 있다. 먼저 그림과 같이 Amazon EC2 인스턴스와 같은 서비스를 배치하기 위해서는 서브넷을 생성해야 한다. 서브넷은 VPC, IP 주소 범위내의 세그먼트 또는 파티션으로 볼 수 있으며 서브넷을 생성하여 각각의 워크로드를 격리할 수 있다. 서브넷을 생성하고 해당 서브넷에 Amazon EC2 인스턴스와 같은 서비스를 배치할 수 있다. 서브넷을 생성하면 기본적으로 공용 인터넷에 직접 액세스할 수 없다. 이를 프라이빗 서브넷이라고 한다. 반면 공용 인터넷에 직접 액세스가 가능한 서브넷을 퍼블릭 서브넷이라고 한다. 예를 들어 웹서비스를 운영하는 Amazon EC2 인스턴스는 인터넷을 통해 직접 액세스가 가능해야 할 것이다. 이러한 경우 인터넷 게이트 웨이를 VPC에 연결하고 해당 서브넷의 라우팅 테이블을 이용해 트래픽을 인터넷 게이트 웨이로 향하게 하여 퍼블릭 서브넷으로 만들 수 있다. 고가용성 구조를 만들기 위해서 여러 가용영역에 서브넷을 생성하고 Amazon EC2 및 데이터베이스 서비스를 구축할 수 있다. 이 때 AWS Elastic Load Balancing, 줄여서 `ELB`를 이용해 여러 Amazon EC2 인스턴스에 트래픽을 분산하여 처리할 수 있다. `ELB`는 들어오는 애플리케이션 트래픽을 Amazon EC2 인스턴스, 컨테이너, IP 주소, Lambda 함수 등과 같은 여러 대상에 자동으로 분산시키는 서비스이다. `ELB`를 이용해 단일 가용 영역은 물론 여러 가용 영역에 부하를 분산할 수 있다.

<br>

#### **4-1-1. ELB 데모 테스트**

AWS Management 콘솔로 들어간다.

<img width="998" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_02" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/d12b0c38-3f5d-4ee8-8bec-9467c0158f7a">

이 데모에서는 여러 대의 인스턴스에 `Elastic Load Balancer`를 이용해 트래픽을 분산하는 방법에 대해 살펴볼 것이다.

1. Amazon EC2 서비스로 이동한다. 좌측 메뉴 중 Instances를 클릭하여 인스턴스가 실행 중인 것을 확인해본다. 아래 예시 이미지에서는 두 대의 인스턴스가 실행중인 것을 확인할 수 있다. 각 인스턴스에는 퍼블릭 IP가 배정되어 있어 웹 브라우저를 통해 연결이 가능하다. 두 인스턴스 모두 선택된 인스턴스의 IP 주소를 화면에 보여주는 간단한 애플리케이션이 실행 중이다. 따라서 로드밸런서를 생성한 후 어떤 인스턴스에 연결되었는 지를 확인할 수 있다.

   <img width="1002" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_03" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/08d84501-9cde-47ad-add0-b2461ae7b5fd">

   <img width="992" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_04" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/fe90fb60-72dd-49c5-ae68-41120d90f7a9">

2. 첫번째 스텝으로 두 인스턴스를 그룹핑할 타겟 그룹을 생성한다. 좌측 메뉴 중 Load Balaning 하위 메뉴에서 Target Groups를 선택한다. 그 후 Create target group 버튼을 클릭한다.

   <img width="990" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_05" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/fed5574e-9bd7-4d70-bf8a-943f9bd98741">

3. 하단으로 스크롤하여 Target group name을 지정한다. 해당 데모에서는 타겟 그룹 이름을 instance-group으로 설정한다. 그 후 하단으로 스크롤을 내려 Next 버튼을 클릭한다.

   <img width="985" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_06" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/0894fc35-8b9c-40ae-a183-fcbd3aa488ab">

4. 그런 다음 인스턴스를 타겟 그룹에 추가한다. 추가할 인스턴스의 좌측 체크 박스를 모두 체크한 후 Includes as pending below 버튼을 클릭한다.

   <img width="994" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_07" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/73f8595f-b4f5-42bb-a52d-ddc9090bd28d">

   그러면 하단에 두 인스턴스가 추가된 것을 확인할 수 있다.

   <img width="1002" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_08" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/878a2563-e082-4736-a4b3-78e0f8c4a92b">

5. Create target group을 클릭하여 생성한다.
6. 타겟 그룹이 생성되었으니 그룹 내 인스턴스에 트래픽을 분산시킬 로드 밸런서를 만들어본다. 좌측 메뉴 중 Load Balancing 하위 메뉴인 Load Banlancers를 클릭 한 후 상단 Create Load Balancer를 클릭한다.
7. Application Load Balancer, Network Load Balancer, Gateway Load Balancer 중 Application Load Balancer의 하단 Create 버튼을 클릭한다.
8. 로드 밸런서의 이름을 지정해준다.

   <img width="998" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_09" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/a9942507-b705-4bd2-9bf2-a8bcdc4406d9">

9. 로드 밸런서의 scheme은 Internet-facing으로 그대로 둔다.
10. 하단으로 스크롤하여 Network mapping 섹션에서 세 개의 가용 영역 모두 로드 밸런서를 맵핑 시킨다.

    <img width="996" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_10" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/a1163b59-5f16-42cd-a29f-312ad04f7b91">

11. 하단으로 스크롤하여 이 로드 밸런서에 퍼블릭 액세스가 가능하도록 Security groups 섹션에서 80 포트로 들어오는 트래픽을 허용하는 보안 그룹으로 변경한다.

    <img width="995" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_11" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/afe97366-a4ad-4e2e-ae83-3da8995dd8b0">

12. Listeners and routing 섹션에서 앞서 생성한 타겟 그룹을 선택하여 로드 밸런스로부터 들어오는 트래픽을 인스턴스로 라우팅 한다.

    <img width="996" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_12" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/e72553e8-c2f6-43ac-bf92-b520d2cab577">

13. 최하단으로 스크롤한 뒤 Create load balancer 버튼을 클릭하여 로드 밸런스를 생성한다.
14. View load balancer를 클릭하여 load balancer 페이지로 돌아간다.
15. 로드밸런서가 프로비저닝 되는데 약간의 시간이 걸린다. 액세스가 가능해지면 로드밸런서의 DNS를 사용할 수 있다.

    <img width="997" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_13" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/df864613-78ca-4139-962a-d8813b9adafe">

16. 이제 이 로드밸런서의 DNS 이름을 웹브라우저에 붙여넣기 한다. 로드밸런서가 라운드 로빈 방식으로 각각의 인스턴스의 트래픽을 분산하는 것을 확인할 수 있다. (아래 두 가지 이미지는 로드밸런서의 DNS 이름으로 접근한 페이지이며 새로고침을 할 때 마다 위 이미지와 아래 이미지가 변경되는 것을 확인할 수 있다.)

    <img width="997" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_14" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/f16d460e-a1bd-45f5-a791-6239e7d084f7">

    <img width="998" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_15" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/b6c902f0-23e4-4a9d-abae-aefbea526785">

<br>

#### **4-1-2. 보안**

<img width="682" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_16" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/d350b60e-3ee4-4b5f-9a2c-0811c971b897">

VPC의 보안그룹, 네트워크 액세스 제어목록 및 라우팅 테이블을 포함한 여러 보안계층을 사용해 각 서브넷에서 Amazon EC2 인스턴스에 대한 액세스를 제어할 수 있다. 먼저 VPC의 `라우팅 테이블`을 이용해 네트워크 트래픽이 전달되는 위치를 제어할 수 있다. 트래픽이 전달되는 위치를 상세하게 제어할 수 있기 때문에 일종의 첫 번째 방어관문이 될 수 있다. 따라서 악의적인 공격자가 사용자의 서비스에 도달하기 위해 공격을 하더라도 라우팅 테이블에 해당 규칙이 없으면 접근할 수 없다. 라우팅 테이블은 VPC, 게이트웨이, 서브넷에 연결하여 사용한다. 두 번째로 `네트워크 ACL`이 있다. 네트워크 ACL, 한국어로 액세스 제어 목록은 서브넷 범위의 인바운드와 아웃바운드 트래픽을 제어하기 위한 방화벽 역할을 하는 선택적 보안 계층이다. 규칙을 이용해 SSH 접속과 같은 유형, 프로토콜, 포트범위, Source 대상을 지정하여 이를 허용할 지 거부할 지를 설정할 수 있다. 세 번째로 보안 그룹, `Security Group`이 있다. 보안 그룹이란 인스턴스에 대한 인바운드 및 아웃바운드 트래픽을 제어하는 가상 방화벽을 의미한다. 보안 그룹은 서브넷 범위가 아니라 인스턴스를 보호하기 때문에 하나의 서브넷 안에 여러 인스턴스를 각각 다른 보안 그룹으로 지정할 수 있다. 보안 그룹은 허용하고자 하는 규칙을 지정하여 트래픽을 제어한다. 예를 들어 HTTPS에 대한 트래픽만 허용하고자 한다면 보안 그룹에 다른 규칙은 없이 HTTPS에 대한 규칙만 추가한다. 간단한 방법으로 원하는 트래픽만을 허용하고 나머지는 차단하도록 설정할 수 있다. 이렇게 라우팅 테이블부터 보안 그룹까지 여러 계층을 통해 보안을 강화하는 것이 매우 중요하다.

<img width="678" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_17" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/d9084877-f7a0-4964-8583-15aea3ef5808">

온프레미스 데이터센터를 보유한 경우에도 AWS의 VPC와 데이터 센터를 연결하는 하이브리드 클라우드 아키텍처를 구축하는 방법에 대해 궁금할 것이다. 이는 Virtual Private Network인 `VPN` 연결 또는 전용선 옵션인 `Direct Connect`를 통해 구현할 수 있다.

`AWS VPN`은 `AWS Client VPN`과 `AWS Site-to-Site VPN` 이라고 불리는 두 가지 서비스로 구성된다. `AWS Client VPN`은 AWS 리소스와 온프레미스 네트워크의 리소스에 안전하게 액세스하는 데 사용할 수있는 관리형 클라이언트 기반 VPN 서비스이다. VPN 설계를 최적화하고 싶다면 `AWS Site-to-Site VPN` 옵션을 고려해볼 수 있다. `AWS Site-to-Site VPN` 연결은 사용자의 VPC를 데이터센터에 연결한다. 이 때 IPsec VPN 연결을 지원한다. VPC와 데이터센터 간에 전송되는 데이터는 암호화된 VPN 연결을 통해 라우팅되므로 전송 데이터의 기밀성과 무결성이 유지된다.

마지막으로 `AWS Direct Connect`에 대해 확인해보자. 일관된 대역폭을 유지하고 데이터센터와 AWS간 연결 손실로 인한 위험을 최소화하고 싶다면 `AWS Direct Connect` 서비스를 사용할 수 있다. `AWS Direct Connect`는 인터넷이 아닌 다른 방법으로 AWS에 연결할 수 있는 네트워킹 서비스이다. `AWS Direct Connect`를 사용하면 이전에는 인터넷을 통해 전송해야 했던 데이터를 이제는 고객시설과 AWS간의 프라이빗한 네트워크 연결을 통해 전달할 수 있다.

<br>

#### **4-1-3. 네트워킹 핵심 사항**

<img width="676" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_18" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/cc2a97a1-9e46-4874-b618-4a33e890f32d">

네트워킹에 대해 핵심사항을 요약해보자.

- Amazon Virtual Private Cloud(VPC)는 사용자의 AWS 계정 전용 가상 네트워크이다.
- VPC의 보안 그룹, 액세스 제어 목록 및 라우팅 테이블을 포함한 여러 보안 계층을 사용해서 액세스를 제어할 수 있다.
- 온프레미스 데이터센터와 AWS를 연결하는 주요 방법은 AWS Client VPN, AWS Site-to-Site VPN, AWS Direct Connect 세 가지이다.

<br>
<br>

### **4-2. 보안**

<img width="677" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_19" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/6eaced2d-b00e-4761-a267-4b5bc8d6ea67">

다음으로 보안에 대해 알아보자. AWS 고객은 정보, 자격증명, 애플리케이션 미 디바이스를 보호하도록 설계된 AWS 데이터 센터와 네트워크를 활용할 수 있다. AWS를 사용하면 AWS의 포괄적인 서비스 및 기능을 통해 데이터 리전성, 보호 및 기밀성과 같은 핵심 보안 및 규정 준수 요구 사항을 충족할 수 있다. AWS는 고급 액세스, 암호화 및 로깅 기능을 개인이 자신의 정보보호를 직접 액세스할 수 있는 서비스 및 기능을 통해 개인정보 보호에 대한 기준을 지속적으로 높여가고 있다. AWS 관리형 키 또는 고객 완전 관리형 키를 사용하여 전송 중 데이터와 유휴 데이터를 손쉽게 암호화할 수 있다. 보안 프로세스를 자동화하고 모든 AWS 리소스의 규정 준수 태세를 지속적으로 감독하며 증거를 자동으로 수집하여 감사 준비 상태를 개선하고 지속적인 실시간 내부 보고 및 모니터링을 지원할 수 있다. 또한 수천 가지의 글로벌 규정 준수 요구사항에 대해 타사 검증을 정기적으로 진행하여 AWS를 사용해 서비스를 구축하는 고객이 규정을 준수할 수 있도록 지원하고 있다.

<img width="677" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_20" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/a3294ce8-3501-4920-a5b7-c348b722f775">

이 과정의 전반부에서 AWS 클라우드에서 생성할 수 있는 다양한 리소스에 대해서 배워보았다. 이러한 리소스에는 Amazon EC2 인스턴스, Amazon S3 버킷, Amazon RDS 데이터베이스가 포함된다. 이러한 리소스를 안전하게 유지할 책임은 누구에게 있을까? 고객일까 AWS일까? 답은 둘 다 이다. 보안과 규정 준수는 AWS와 고객의 공동 책임이다. 이것을 공동 책임 모델이라고 지칭한다. 이러한 AWS와 고객의 책임은 일반적으로 클라우드’의’ 보안과 클라우드’에서의’ 보안이라고 부른다. AWS 책임인 `클라우드의 보안`의 영역에서 AWS는 모든 서비스를 실행하는 인프라를 보호할 책임이 있다. 단순한 하드웨어 뿐만이 아니라 이 인프라는 AWS 서비스를 실행하는 소프트웨어, 네트워킹 및 시설로 구성된다. 반면에 `클라우드에서의 보안`은 고객이 책임지는 영역이다. 클라우드에서의 보안을 확보하기 위해서는 사용하고자 하는 서비스의 종류에 따라 고객이 보안을 책임지는데에 필요한 작업이 달라진다. 예를 들어서 데이터 서버측 암호화 여부나 운영체제 보안 패치 실행 여부는 고객이 선택할 수 있으며 그에 대한 책임을 지게 된다.

<br>

#### **4-2-1. AWS IAM**

<img width="676" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_21" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/13c16d6d-2a4e-4abb-a81b-74077b01cbb7">

AWS IAM에 대해서 살펴보자. AWS Identity and Access Management는 AWS 서비스와 리소스에 대한 액세스를 안전하게 관리하기 위한 서비스이다. 다시 말해 누가 AWS 리소스를 사용할 수 있는가에 대한 `인증`, 그리고 무엇을 할 수 있는가에 대한 `인가`를 제어하는 서비스이다. IAM을 사용하면 AWS에서 생성한 리소스에 대한 접근을 안전하게 통제할 수 있다. IAM 서비스에서 AWS IAM 사용자 및 그룹, 역할을 만들고 관리할 수 있고 접근 권한을 허용하거나 거부하는 정책을 정의해서 AWS 리소스에 대한 접근 관리를 한다. 또한 IAM 사용자에게 개별 보안 자격 증명을 할당하거나 임시 보안 자격 증명을 요청해서 사용자나 AWS 서비스에게 다른 AWS 서비스 및 리소스에 대한 액세스 권한을 제공할 수 있다. 이렇게 전체 AWS 리소스에 대한 보안을 제공하는 IAM은 AWS를 사용하는데에 있어 필수적인 기능이기 때문에 추가 비용 없이 제공된다.

<img width="679" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_22" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/ee01c10a-9c95-43ce-824f-8a89c4e874fe">

AWS IAM은 다음과 같은 구성 요소로 이루어져 있다.

먼저 IAM 사용자이다. IAM 서비스에서 IAM 사용자를 생성해서 이용할 수 있으며 이 IAM 사용자를 통해서 인증을 할 수 있다. 인증은 서비스에 액세스하는 사람 또는 애플리케이션이 실제 사용자가 맞는지 확인하는 과정을 의미한다. AWS를 사용하는 방법은 크게 AWS Management Console과 SDK, CLI를 통한 프로그래밍적인 방식으로 나누어 생각할 수 있다. 인증 방식은 AWS Management Console의 경우 IAM user의 ID와 패스워드를 이용하고 프로그래밍적인 방식은 액세스 키와 시크릿 액세스 키를 기반으로 하는 두 가지 방식으로 구분할 수 있다.

두 번째로 권한과 정책에 대해 살펴보자. 앞에서 살펴본 IAM 사용자를 생성하여 로그인에 성공하더라도 AWS 서비스에 대한 사용 권한이 없다면 아무것도 할 수 없다. 권한을 주기 위해서 IAM 정책을 사용자, 그룹, 역할에 연결한다. IAM 정책은 AWS 서비스 및 리소스에 대한 권한을 허용하거나 거부하는 JSON 형태의 문서이다. 정책을 통해서 IAM 사용자는 적절한 권한을 가지고 AWS 서비스에 액세스할 수 있다.

세 번째로 그룹을 보도록 한다. 그룹은 동일한 권한을 가진 IAM 사용자 모음으로 IAM 사용자에게 연결하여 권한을 정의하는 정책을 보다 효율적으로 적용할 수 있다. IAM 사용자에게 정책을 연결해 권한을 할당하는 것이 아니라 그룹의 정책을 할당하고 해당 그룹에 IAM 사용자를 포함시키면 해당 IAM 사용자는 아무런 권한이 없어도 그룹의 권한을 상속받게 된다.

마지막으로 역할을 보도록 한다. IAM 역할은 계정을 생성할 수 있는 특정 권한을 지닌 IAM 자격 증명이다. 정책을 가진 AWS 자격 증명이라는 점에서 IAM 사용자와 유사하다. 하지만 해당 권한이 필요한 사람은 누구든지 맡을 수 있어야하고 역할에는 그와 연관된 암호 또는 액세스 키와 같은 표준 장기 자격 증명이 없다는 점이 다르다. 즉 IAM 역할은 임시로 권한에 액세스 하기 위해 수임할 수 있는 자격 증명이다. 사용자는 역할을 수임하고 해당 역할에 연결된 다른 권한을 임시로 가질 수 있다. 앞서 말한 것과 같이 역할에는 연결된 보안 인증 정보가 없다. 대신 역할을 수임한 사용자에게는 해당 역할을 사용하는 동안 임시로 보안 자격 증명이 제공되고 IAM 사용자의 경우 역할을 수임한 동안 자신의 권한을 임시로 포기하고 해당 역할의 권한을 사용하게 된다. 역할을 사용하여 일반적으로 AWS 리소스에 액세스할 수 없는 사용자, 애플리케이션 또는 서비스의 액세스 권한을 위임할 수 있다.

<img width="678" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_23" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/f45f24b7-a8b6-493a-9582-14d9722accdb">

AWS IAM의 정책 유형은 크게 자격 증명 기반 정책과 리소스 기반 정책으로 나누어진다. IAM 사용자, 그룹, 역할에 할당하는 자격 증명 기반, Amazon S3와 같이 리소스 자체에서 권한을 부여해 접근을 제어할 수 있는 리소스 기반 정책이 있다. 대표적인 리소스 기반 정책은 Amazon S3 버킷 정책이다. 위 이미지에서 보여주는 버킷에 부여하는 정책을 의미한다. Amazon S3 버킷은 기본적으로 퍼블릭 접근을 제한하지만 이를 해제할 수 있다. 그렇게 되면 버킷 내의 객체는 퍼블릭하게 공개된다. 보다 상세한 제어를 하고 싶다면 리소스 기반의 Amazon S3 버킷 정책을 설정할 수 있다. Amazon S3 버킷 및 객체에 대한 접근을 사용자 A에 대해서만 허용하고 사용자 B에게는 거부하도록 설정할 수 있다. 위에서 본 예시들과 같이 IAM 정책을 통해 세밀하고 강력한 보안을 구축할 수 있다.

<br>

#### **4-2-2. AWS CloudTrail**

<img width="678" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_24" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/d07fc492-3bc0-4bb7-8ae5-8774b9fa28c3">

AWS의 모든 서비스는 API로 이루어져 있다. AWS IAM 서비스는 AWS 서비스에 대해서 인증 및 인가 부분을 처리하지만 서비스에 대한 추적은 하지 않는다. 이러한 계정의 사용자 활동과 API를 추적해야 한다. AWS CloudTrail은 사용자 활동 및 API 사용을 추적하여 감사, 보안 모니터링 및 운영 문제 해결을 지원한다. AWS CloudTrail은 사용자 계정에서 이루어진 작업을 기록함으로써 사용자 활동에 대한 가시성을 제공한다. AWS CloudTrail은 요청한 사람, 사용된 서비스, 수행된 작업, 작업의 파라미터, AWS 서비스에서 반환한 대응 요소를 비롯하여 각 작업에 대한 중요 정보를 기록한다. AWS CloudTrail의 로그 파일은 Amazon S3 버킷으로 전송되며 해당 로그에서 누가, 무엇을, 언제, 어디로 작업을 수행했고 그 결과가 어떠했는지를 확인할 수 있다. 또한 AWS CloudTrail 로그를 통해서 이를 감사 자료로 사용하거나 분석을 통해 발생할 수 있는 잠재적 위협을 조기에 식별하고 조치할 수 있다.

<br>

#### **4-2-3. AWS Trusted Advisor**

<img width="680" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_25" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/3f1a342c-2fa0-4642-81a6-5a77d22c8a98">

AWS Trusted Advisor는 AWS 모범 사례를 따르는 데 도움이 되는 권장사항을 제공한다. AWS Trusted Advisor는 검사를 사용하여 계정을 평가한다. 이러한 검사는 AWS 인프라를 최적화하고 보안 및 성능을 개선하여 비용을 절감하고 서비스 할당량을 모니터링 할 방법을 식별한다. 사용자는 권장 사항에 따라 서비스 및 리소스를 최적화할 수 있다. AWS Trusted Advisor는 비용 최적화, 보안, 내결함성, 성능, 서비스 한도라는 다섯 가지의 범주의 모범 사례를 제공한다. 검사 상태는 대시보드 페이지에서 3가지 색상으로 표시된다. 빨간색은 조치가 권장된다는 의미이며 노란색은 조사가 권장된다는 의미이다. 녹색은 탐지된 문제가 없음을 나타낸다. 각 검사에서 권장되는 모범 사례에 대한 자세한 설명, 알림 기준 집합, 조치를 위한 지침, 주제와 관련된 유용한 리소스 목록을 볼 수 있다.

먼저 비용 최적화 부분에서 사용되지 않는 유휴 리소스를 제거하거나 예약 용량을 약정하여 AWS에서 비용을 절약할 수 있는 방법을 알아볼 수 있다.

성능 부분은 서비스 한도를 점검하고 프로비저닝된 처리량을 활용하는지 확인하고 초과 사용되는 인스턴스를 모니터링해 성능을 개선할 수 있다.

보안 부분은 결함을 없애고 다양한 AWS 보안 기능을 사용하고 권한을 점검해 서비스에 대한 보안을 향상시킬 수 있다.

다음으로 내결함성은 자동 조정, 상태 확인, 복수 가용 영역, 백업 기능을 활용하여 AWS 애플리케이션의 가용성과 중복성을 높이는데 활용될 수 있다.

마지막으로 서비스 한도는 서비스 한도의 80%가 넘는 서비스 사용량이 있는지 점검한다. 값은 스냅샷을 기반으로 하기 때문에 현재 사용량과 다를 수 있다. 한도 및 사용량에 변경 사항이 반영되는 데 최대 24시간이 걸릴 수 있다.

<br>
<br>

### **4-3. 핵심 요약**

<img width="677" alt="AWS_클라우드_핵심_서비스_소개_네트워킹_보안_26" src="https://github.com/Yu-jae-min/Basic-concept/assets/85284246/4fa97ce1-95e9-43dd-9231-6e83a05b01cc">

- 먼저 보안과 규정 준수는 AWS와 고객의 공동 책임이다. 따라서 AWS의 공동 책임 모델을 통해 클라우드 내의 보안, 클라우드의 보안에 대해서 확인해보았다.
- AWS 서비스와 리소스에 대한 액세스를 안전하게 관리하기 위한 서비스는 AWS IAM이다. IAM에서 사용자, 그룹, 역할을 생성하고 정책을 통해서 권한을 부여하여 AWS 서비스에 대해 인증, 인가를 관리한다.
- Amazon S3 버킷은 기본적으로 Private으로 생성되며 차단을 해제하면 인터넷 전체 액세스를 허용한다.
- AWS CloudTrail은 사용자 활동 및 API 사용을 추적하여 사용자 계정에서 이루어진 작업을 기록함으로써 사용자 활동에 대한 가시성을 제공한다.
- AWS Trusted Advisor는 사용자의 AWS 환경을 조사하고 비용 절감, 시스템 성능 향상 또는 보안 결함 제거를 위한 권장 사항을 제시하는 서비스이다.

<br>
