## # Web

<br>

### # 브라우저 동작 원리

- 브라우저란?

  브라우저란 웹 페이지, 이미지와 같은 콘텐츠를 수신하고 전송하고 표현하는 소프트웨어다. 대표적인 브라우저로 크롬, 사파리 등이 있다. 브라우저의 주요 기능은 사용자가 선택한 URI 주소의 자원을 서버에 요청하고 브라우저에 표시하는 것이다.

- 브라우저 기본 구조

  - 사용자 인터페이스

    주소 표시줄, 이전/다음 버튼, 북마크 메뉴 등, 요청한 페이지를 보여주는 창을 제외한 나머지 모든 부분

  - 브라우저 엔진

    사용자 인터페이스와 렌더링 엔진 사이의 동작을 제어

  - 렌더링 엔진

    요청한 콘텐츠를 표시, 예를 들어 HTML을 요청하면 HTML과 CSS를 파싱하여 화면에 표시함

  - 통신

    HTTP 요청과 같은 네트워크 호출에 사용, 이것은 플랫폼 독립적인 인터페이스이고 각 플랫폼 하부에서 실행

  - UI 백엔드

    select / input 등 기본적인 위젯을 그림. 플랫폼에서 명시하지 않은 일반적인 인터페이스로서, OS 사용자 인터페이스 체계를 사용

  - 자바스크립트 해석기

    자바스크립트 코드를 해석하고 실행

  - 자료 저장소

    Cookie, Local storage등 local에 data를 저장하는 저장소

- 브라우저의 동작 과정

  1. 사용자가 브라우저 주소표시줄에 검색하고자 하는 URL을 입력 -> 브라우저가 URL 파싱

  - 프로토콜(http/https), 도메인, 포트 등으로 나눔

  - 예: https://www.example.com:443 → 프로토콜(https), 도메인(www.example.com), 포트(443)

  2. DNS 서버에 요청하여 해당 URL을 IP 주소로 변환하여 응답

  - 검색 주소의 웹 서버 IP 주소를 찾기 위해 브라우저, OS, 라우트, ISP 캐시에 캐싱 된 DNS 기록을 우선적으로 확인하고 캐싱 된 기록이 없다면 IP 주소를 응답 받을 때 까지 루트, 탑 레벨, 세컨드 레벨, 써드 레벨 네임 서버까지 순차적으로 IP 주소를 요청한다.

  3. IP 주소를 받은 뒤, 패킷 라우팅

  - 사용자의 컴퓨터에서 해당 IP가 속한 네트워크로 가기 위한 라우터(게이트웨이)로 패킷 전송

  - 라우터는 최적 경로를 찾아 목적지 서버 네트워크로 패킷 전달

  4. IP 주소 → MAC 주소 변환 (같은 로컬 네트워크 내에서)

  - ARP 프로토콜 사용해 IP 주소에 해당하는 MAC 주소 확인

  - MAC 주소는 물리적 네트워크 인터페이스 고유 주소

  - (중간 라우터 통과 시, 각 네트워크 구간마다 ARP 동작)

  5. TCP 3-way 핸드셰이크를 통해 서버와 TCP 연결 수립

  - 클라이언트와 서버가 SYN, SYN-ACK, ACK 순서로 패킷 주고받으며 연결 확립

  6. TCP 연결 후 HTTP 요청 전송

  - HTTP/HTTPS 프로토콜로 원하는 리소스 요청 (예: HTML 문서)

  - 서버는 요청받은 리소스를 HTTP 응답으로 전송

  7. 브라우저가 받은 응답(HTML, CSS, JS, 이미지 등)을 파싱 및 렌더링

<br>

### # DNS

- DNS란 도메인 네임 시스템으로 도메인을 컴퓨터가 이해할 수 있는 IP 주소로 변환해주는 네임 서버 시스템이다. 사용자가 주소창에 도메인 주소를 입력하면 브라우저는 해당 도메인 주소를 가지고 있는
  네임 서버에 요청을 보내고 네임 서버는 해당 도메인 주소와 매핑되는 IP 주소를 찾은 후 응답해준다.

<br>

### # Web Server, WAS

- Web Server

  클라이언트(브라우저)로부터 HTTP 요청을 받아 정적 컨텐츠(HTML, CSS, 이미지 등)를 전달하는 서버이다. 동적 컨텐츠 요청은 Web Server가 WAS로 넘겨 처리한 후 결과를 다시 클라이언트에게
  전달한다. 대표적인 웹 서버로는 Apache, Nginx가 있다.

- WAS (Web Application Server)

  동적 컨텐츠 생성을 담당하는 서버로, 데이터베이스 조회, 비즈니스 로직 수행 등을 처리한다. HTTP 요청을 받아 JSP, Servlet 같은 애플리케이션 코드를 실행하고, 데이터베이스와 연동해 결과를 생성한다.
  흔히 서블릿 컨테이너 또는 웹 컨테이너라고 불린다. 대표적인 예로 Tomcat, JBoss, WebSphere 등이 있다

  -> 내가 이해한 내용으로는 서버 사이드 렌더링을 수행하는 서버가 될 수도 있고, API 요청을 처리하는 백엔드 서버가 될 수도 있다.

- WAS가 필요한 이유

  정적 컨텐츠만 처리하는 Web Server로는 동적 데이터 생성이 불가능하다. 모든 페이지를 미리 만들어놓는 것은 비효율적이고 자원 낭비이다. WAS는 클라이언트 요청에 따라 실시간으로 데이터베이스와 상호작용해 필요한 결과를 동적으로 생성하여 효율적인 서비스 제공이 가능하다.

<br><br><br>
