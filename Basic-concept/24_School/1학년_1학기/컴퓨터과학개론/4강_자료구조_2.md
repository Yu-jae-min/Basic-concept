# 4강. 자료구조 (2)

<br>

# 1. 학습개요

『컴퓨터과학개론』의 네 번째 강의로서, 컴퓨터 프로그래밍을 시작하면서 가장 기본이 되는 내용인 자료구조를 살펴본다. 비선형 자료구조인 트리와 그래프에 대해 알아보고, 그래프와 트리의 순회 방법과 표현 방법에 대해서 학습한다. 트리는 계층 구조를 표현하기에 적당하고, 그래프는 현실세계 네트워크나 네비게이션의 목적지와 출발지를 표현하고 계산하는 데 가장 많이 사용되는 자료구조이다.

<br>
<br>

# 2. 학습목표

- 트리와 그래프와 같은 자료구조에 대해서 이해할 수 있다.

- 트리의 노드를 순회할 수 있는 방법에 대해서 이해할 수 있다.

- 그래프의 노드를 순회하는 방법에 대해서 이해할 수 있다.

<br>
<br>

# 3. 학습하기

<br>

## 3-1. 트리 용어 정의

<br>

- 데이터 간의 관계를 나타내는 비선형 자료구조

- `노드(node)`라고 불리는 부분과 노드를 연결하는 `가지(branch, edge)`로 구분됨

- 노드 사이에는 계층적인 관계성을 갖음

  ![school_1학년_1학기_컴퓨터과학개론_4강_01](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/32ddbddf-b757-48d4-b6b6-4745142373ce)

- 노드(node)

  - 정보 항목을 의미함

  - 위 이미지의 경우 A, B, C, … 등

- 루트(root)

  - 빈 트리가 아닌 경우에 맨 꼭대기에 있는 하나의 노드

  - 위 이미지의 경우 A가 루트 노드

- 차수(degree)

  - 각 노드에 있는 가지의 수

  - 위 이미지의 경우 A의 차수는 3, C는 0

- 잎 노드(leaf node)

  - 단말 노드(teminal node)

  - 노드의 차수가 0인 노드

  - 위 이미지의 경우 J, K, F, C, L, M, I

- 내부 노드(internal node)

  - 비단말 노드(non-terminal node)

  - 루트 노드와 단말 노드를 제외한 나머지 노드

  - 위 이미지의 경우 루트 노드인 A와 단말 노드인 J, K, F, C, L, M, I을 제외한 E, B, G, H, D가 비단말 노드

- 조상(선조) 노드

  - 루트 노드로부터 어떤 노드 X까지의 경로(가지들의 모음) 상에 존재하는 모든 노드를 X의 조상 노드라고 함

  - 위 이미지에서 K의 조상 노드는 E, B, A이다.

    ![school_1학년_1학기_컴퓨터과학개론_4강_02](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/57d6bd6f-c5aa-4a41-9850-4614a2fb6979)

- 자손(후손) 노드

  - 어떤 노드 X에서 단말 노드까지의 경로 상에 존재하는 모든 노드를 자손 노드라고 함

  - 위 이미지에서 D의 자손 노드는 G, H, I, L, M

    ![school_1학년_1학기_컴퓨터과학개론_4강_03](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/3d9b03f4-9ee4-49f8-9379-8ba198ffe283)

- 레벨(level)

  - 루트 노드로부터의 거리(가지의 수)를 의미함

  - 위 이미지에서 B, C, D는 루트 노드로부터의 거리가 1이므로 레벨1이며 같은 레벨을 가지는 노드를 형제 노드라고 한다.

    ![school_1학년_1학기_컴퓨터과학개론_4강_04](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/62a4a18f-154e-4621-bb0c-8dcdd25fa101)

- 트리의 깊이(depth)/높이(height)

  - 루트 노드로부터 가장 긴 경로에 있는 단말 노드의 레벨에 1의 값을 더한 것 (예 깊이 4)

  - 위 이미지에서 가장 긴 경로에 있는 단말 노드 J, K, L, M의 레벨은 3이며 여기에 1을 더해 4가 된다.

    ![school_1학년_1학기_컴퓨터과학개론_4강_05](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/825c0744-de0c-44d6-a901-790e2b91efd4)

- 서브 트리(subtree)

  - 특정 노드를 루트 노드로 하고, 그 아래에 있는 연결된 구조의 트리

  - 위 이미지에서 A는 3개의 서브 트리를 가지고 있다.

    ![school_1학년_1학기_컴퓨터과학개론_4강_06](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/4b33bb28-4c7a-41b0-8dad-69005ccd0684)

- 숲(forest)

  - n개의 서브 트리를 가진 트리에서 루트 노드를 제거해서 얻을 수 있는 분리된 서브 트리의 집합

  - 위 이미지 중 A를 뺀 부분이 숲이다. 즉 위 이미지에서는 3개의 숲이 있다.

<br>

## 3-2. 이진 트리

- 트리 중에서 차수가 2인 트리

- 모든 노드의 차수는 최대 2를 넘지 않음

- 모든 노드는 최대 2개의 서브 트리를 가짐

  ![school_1학년_1학기_컴퓨터과학개론_4강_07](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/7b7a0f3a-c4b6-44b5-9952-993e2cdcaaf9)

- 각 서브 트리는 왼쪽 서브 트리와 오른쪽 서브 트리로 구분됨

  ![school_1학년_1학기_컴퓨터과학개론_4강_08](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/867179ad-eb17-4132-81ac-96ae2b53a423)

- 왼쪽 노드와 오른쪽 노드에 순서의 의미를 부여함

- 이진 트리의 각 서브 트리는 다시 이진 트리가 됨

- 이진 트리의 높이

  - N개의 노드를 가진 이진 트리의 높이를 계산으로 구할 수 있음

  - 최대 높이 : N으로 노드의 개수와 같음

    ![school_1학년_1학기_컴퓨터과학개론_4강_09](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/fddbb440-bb21-4320-b440-bf0209a6bb78)

  - 트리의 높이는 낮게 만들면 만들수록 효율적이다. 즉 검색이 빠르다.

  - 최소 높이 : 최대 2개의 자식 노드를 갖는 경우로서 `[log2 N] + 1`이 높이(레벨 + 1)가 됨

- 이진 트리 순회 연산

  - 일정한 순서에 따라 트리에 있는 각 노드를 한 번씩 방문하는 것

  - 전위 순회 : 루트 → 왼쪽 숲 → 오른쪽 숲

  - 중위 순회 : 왼쪽 숲 → 루트 → 오른쪽 숲

  - 후위 순회 : 왼쪽 숲 → 오른쪽 숲 → 루트

  - 예시

    ![school_1학년_1학기_컴퓨터과학개론_4강_10](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/9b6009d1-dee8-431f-8b41-4793d08c851a)

  - DLR(전위 순회, preorder)

    - 루트 노드 방문 → 왼쪽 서브 트리 방문 → 오른쪽 서브 트리 방문

    - 예시

      ![school_1학년_1학기_컴퓨터과학개론_4강_11](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/6b114f00-002f-4a63-8f00-ecf5494e3422)

      - (1) 루트 노드 A 방문

      - (2) 왼쪽 서브 트리 방문, B 방문 → D 방문 → H 방문 → I 방문 → E 방문 → J 방문 → K 방문

      - (3) 오른쪽 서브 트리 방문, C 방문 → F 방문 → L 방문 → M 방문 → G 방문 → N 방문 → O 방문

  - LDR(중위 순회, inorder)

    - 왼쪽 서브 트리 방문 → 루트 노드 방문 → 오른쪽 서브 트리 방문

    - 예시

      - (1) 왼쪽 서브 트리 방문, H 방문 → D 방문 → I 방문 → B 방문 → J 방문 → E 방문 → K 방문

      - (2) 루트 노드 A 방문

      - (3) 오른쪽 서브 트리 방문, L 방문 → F 방문 → M 방문 → C 방문 → N 방문 → G 방문 → O 방문

  - LRD(후위 순회, postorder)

    - 왼쪽 서브 트리 방문 → 오른쪽 서브 트리 방문 → 루트 노드 방문

    - 예시

      - (1) 왼쪽 서브 트리 방문, H 방문 → I 방문 → D 방문 → J 방문 → K 방문 → E 방문 → B 방문

      - (2) 오른쪽 서브 트리 방문, L 방문 → M 방문 → F 방문 → N 방문 → O 방문 → G 방문 → C 방문

      - (3) 루트 노드 A 방문

- 포화 이진 트리(full binary tree)

  ![school_1학년_1학기_컴퓨터과학개론_4강_12](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/1a7289ac-909c-44ab-9641-ca0b3ea2b96c)

  - 깊이가 k인 이진 트리 중에서 노드의 개수가 2^k - 1개인 이진 트리

  - 깊이가 k인 이진 트리가 가질 수 있는 노드의 최대 개수는 2^k-1 - 1개

  - 단말 노드의 개수가 2^k-1 - 1개

  - 각 레벨에서 빈자리가 없이 노드를 모두 가지고 있음

  - 모든 내부 노드들은 2개의 자식 노드를 가짐 (단말 노드만 빼고)

- 완전 이진 트리(complete binary tree)

  ![school_1학년_1학기_컴퓨터과학개론_4강_13](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/e133c24a-05cb-418b-9d3f-44273fc5b0b5)

  - 트리의 최대 레벨이 k일 때,

  - 레벨 k - 1까지는 포화 이진 트리를 형성하고,

  - 레벨 k에서는 왼쪽부터 오른쪽으로 채워진 트리임

  - 총 노드의 개수가 2^k+1 - 1을 초과하지 않으면서, 포화 이진 트리의 노드 번호에 해당하는 연속적인 번호를 갖는 트리임

    ![school_1학년_1학기_컴퓨터과학개론_4강_14](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/423d665c-3fbb-4cf1-868c-727fb3e81762)

  - 포화 이진 트리도 왼쪽부터 오른쪽으로 채워진 것을 알 수 있다. 그렇기 때문에 포화 이진 트리는 완전 이진 트리에 포함된다.

- 경사 이진 트리(skewed binary tree)

  ![school_1학년_1학기_컴퓨터과학개론_4강_15](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/7b654a51-031d-49dd-9ef7-4d4ae4342d51)

  - 한 쪽 방향으로만 가지가 뻗어 나간 이진 트리

  - 왼쪽 방향으로만 가지가 뻗어 나간 경사 이진 트리

  - 오른쪽으로만 가지가 뻗어 나간 경사 이진 트리

<br>

## 3-3. 그래프

- 그래프 G

  ![school_1학년_1학기_컴퓨터과학개론_4강_16](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/c9477899-6d44-4065-8819-da92ce42ae1e)

  - 정점(vertex)들의 유한 집합 V와 두 개의 정점을 연결하는 간선(edge)들의 유한 집합 E로 정의

  - G=(V,E)로 표시됨

  - 위 이미지에서 1, 2, 3, 4가 정점이며 간선은 (1,4), (4,3), (2,3) 등으로 표현한다.

- 무방향 그래프(undirected graph)

  - 간선이 방향성이 없는 간선으로 연결된 그래프

    ![school_1학년_1학기_컴퓨터과학개론_4강_17](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/7c2eb4cb-0384-49b8-a0c1-e49ed444535d)

  - 무방향 그래프에서 간선은 (1,4) 혹은 (4,1)로 표현해도 무관하지만 방향 그래프에서는 (4,1)로 표현하는 것이 좋다.

  - 예시

    - 무방향 그래프 표현

      - V(G1)={1,2,3,4}

      - E(G1)={(1,2),(1,3),(1,4),(2,3),(2,3),(3,4)}

    - 방향 그래프 표현

      - V(G2)={1,2,3,4}

      - E(G2)={<1,2>,<1,3>,<3,2>,<3,4>,<4,1>,<4,2>}

- 두 정점이 간선으로 직접 연결되어 있으면 두 정점은 인접(adjacent)해 있다고 하며, 해당 간선은 두 정점에 부수(incident)되었다고 함

  - 예시

    ![school_1학년_1학기_컴퓨터과학개론_4강_18](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/8cc4e0fd-817e-4a3b-9206-96c389262002)

  - 1과 2 정점은 인접해있다.

  - 1정점에 (1, 2) 간선은 부수되어있다.

- 인접한다 : 정점 간의 관계

- 인접한다 : 정점 간의 관계

- 부수되었다 : 정점과 간선 간의 관계

- 경로(path) : 간선으로 연결된 정점들의 순차적 나열을 의미함

- 경로의 길이 : 경로에 포함된 간선의 개수

- 단순 경로(simple path) : 경로 상에 존재하는 정점들이 모두 다른 경로

- 사이클(cycle) : 세 개 이상의 정점을 가진 경로 중에서 시작 정점과 끝 정점이 같은 경로

- 단순 사이클(simple cycle) : 시작 정점과 끝 정점을 제외하고 모든 정점이 다른 사이클

- 두 정점은 서로 연결되었다

  - 두 정점 사이에 경로가 존재함

- 그래프가 서로 연결되었다

  - 무방향 그래프에서 서로 다른 모든 정점들 사이에 경로가 존재함

- 무방향 그래프에서 한 정점의 차수(degree)

  - 정점에 부수된 간선의 개수임

- 방향 그래프 정점의 차수는 진입 차수와 진출 차수로 나뉨

  - 진입 차수(indegree) : 다른 정점에서 해당 정점을 향하는 간선의 개수

  - 진출 차수(outdegree) : 해당 정점으로부터 다른 정점으로 향하는 간선의 개수

- 트리는 그래프의 특수한 형태로 봄

- 무방향 그래프에서 모든 정점이 서로 연결되어 있으면서 사이클이 존재하지 않는 그래프를 `트리`라고 함

<br>

## 3-4. 그래프의 표현

- 그래프를 컴퓨터 프로그래밍 언어로 구현하기 위해서는 인접 행렬(adjacency matrix)이나 인접 리스트(adjacency list)를 이용하여 표현함

- 인접 행렬을 이용하여 n개의 정점을 가진 그래프를 표현하기 위해서는 n x n 크기의 2차원 배열을 이용함

- 인접행렬 `A[i][j]`에 값이 존재하면 그래프의 정점 V_i에서 정점 V_j사이에 간선이 존재함을 의미하고, `A[i][j]`의 값은 1로 정함

- 인접 행렬을 이용한 그래프 표현 예시

  ![school_1학년_1학기_컴퓨터과학개론_4강_19](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/8fdbc7bd-c39b-4316-98cd-3213931c9738)

  - 1, 2, 3, 4는 정점을 나타내고 2차원 배열 내부에 0과 1은 간선이 연결되어 있음을 나타낸다. 예를 들어 1의 경우 2와 4 정점과 연결되어 있는데 배열을 보면 정점 1에 정점 2와 4는 1인 것을 알 수 있다.

- 인접리스트를 이용한 그래프 표현 예시

  ![school_1학년_1학기_컴퓨터과학개론_4강_20](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/e729a461-2f55-4b9c-8ba3-56223cafd0f4)

  - 정점 1은 2, 3, 4와 연결되어 있고, 정점 2는 1, 4, 정점 3은 1, 4, 정점 4는 1, 2, 3과 연결되어 있다.

- 그래프의 탐색

  - 그래프의 모든 정점을 체계적으로 방문하는 것

  - 깊이 우선 탐색(depth first search)과 너비 우선 탐색(breadth first search)이 있음

- 너비 우선 탐색

  ![school_1학년_1학기_컴퓨터과학개론_4강_21](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/e5871a3b-231d-4b5c-bc81-e42f95b5c068)

  - 최근의 방문하지 않은 인접한 모든 정점을 모두 방문함

  - 최종적인 방문 순서는 (1,2,3,4,5,6,7)이 됨

  - 최종 방문 순서는 구현 방법에 따라 달라질 수 있음

- 깊이 우선 탐색

  ![school_1학년_1학기_컴퓨터과학개론_4강_22](https://github.com/Yu-jae-min/Basic-concept/assets/85284246/bfefa2ff-e437-4f57-afc5-f5aa0ba5c3f0)

  - 최근의 방문하지 않은 인접한 하나의 정점을 우선적으로 방문함

  - 최종적인 방문 순서는 (1,2,4,5,7,6,3)이 됨

  - 최종 방문 순서는 구현 방법에 따라 달라질 수 있음, 예를 들어 5방문 후 7을 방문할 때 꼭 7이 아닌 3을 방문해도 됨

<br>
<br>

# 4. 정리하기

- 트리 : 노드와 가지로 구성되어 나무 뿌리 모양의 데이터의 계층 관계를 나타내는 자료구조

  - 트리(tree) : 데이터간의 관계를 나타내는 비선형 자료구조로서 노드(node)라고 불리는 부분과 노드를 연결하는 가지(branch, edge)로 구분됨

  - 잎 노드(leaf node) : 단말 노드(terminal node)라고도 하며, 노드의 차수가 0인 노드

  - 내부 노드(internal node) : 비단말 노드(non-terminal node)라고도 하며, 루트 노드와 단말 노드를 제외한 나머지 노드

  - 이진트리 (binary tree) : 트리 중에서 차수가 2인 트리를 의미하고, 모든 노드의 차수는 최대 2를 넘지 않으며 모든 노드는 최대 2개의 서브 트리를 가짐

  - 이진트리의 순회 : 일정한 순서에 따라 트리에 있는 각 노드를 한 번씩 방문하는 것

  - 포화이진트리 : 이진트리 중에서도 깊이가 k인 이진트리가 가질 수 있는 최대 노드의 개수(-1)를 가진 이진트리

  - 완전이진트리 : 총 노드의 개수가 (-1)을 초과하지 않으면서 포화이진트리의 번호와 일치하는 이진트리

  - 경사 이진트리 : 한쪽 방향으로 치우친 트리

- 트리 순회 방법으로 전위 순회, 중위 순회, 후위 순회가 있음

- 그래프 : 정점들의 유한 집합과 정점들의 쌍을 연결하는 간선의 유한집합

  - 그래프(graph) : 정점(vertex)들의 유한 집합 V와 두 개의 정점을 연결하는 간선(edge)들의 유한 집합 E로 정의되며, G=(V,E)로 표시됨

  - 무방향 그래프(undirected graph) : 간선이 방향성이 없는 간선으로 연결된 그래프

  - 방향 그래프(directed graph, digraph) : 두 정점을 연결하는 간선이 방향성을 가지는 간선으로 연결된 그래프

  - 그래프의 표현 : 인접행렬, 인접 리스트

  - 그래프 순회 방식 : 깊이 우선 탐색, 너비우선 탐색

<br>
