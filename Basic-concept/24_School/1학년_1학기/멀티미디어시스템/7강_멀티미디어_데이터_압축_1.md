# 7강. 멀티미디어 데이터 압축(1)

<br>

# 1. 학습개요

본 강의에서는 데이터 압축의 기본 개념에 대해 살펴본다. 먼저 데이터 압축에 사용되는 압축 기법에 대해 설명한다. 다음으로 디지털 사운드의 압축 코덱에 대해 설명한다.

<br>
<br>

# 2. 학습목표

- 멀티미디어 데이터 압축의 필요성을 이해할 수 있다.

- 무손실 압축과 손실 압축의 개념과 관련 기법들을 이해할 수 있다.

- 디지털 사운드의 압축 코덱들을 이해할 수 있다.

<br>
<br>

# 3. 주요용어

- 무손실 압축 : 압축된 정보를 다시 복원한 경우 압축되기 이전의 상태와 동일한 내용을 갖는 압축으로, 가역 압축이라고도 한다.

- 손실 압축 : 압축된 정보를 다시 복원한 경우 압축되기 이전의 상태와 동일하지 않는 내용을 갖는 압축으로, 비가역 압축이라고도 한다.

- 엔트로피 압축 : 무손실 압축으로, 압축시킬 대상의 성질을 고려하지 않는 압축 기법

- 대상기반 압축 : 손실 압축으로 압축하고자 하는 대상정보의 특성을 이용한 압축

- 반복길이 코딩 : 한 데이터에서 자주 반복되는 코드들의 사용을 최대한 억제하는 기법

- 허프만 코딩 : 가변길이 부호화 방법으로, 데이터에 나타나는 문자의 빈도에 따라 다른 길이의 부호를 사용하는 기법

- LZW 코딩 : 연속된 문자열에 대한 표를 만들고, 다음에 문자열이 발견되면 표를 참조하여 압축하는 기법으로 허프만 코딩을 응용

- 이산 코사인 변환 : 2차원 행렬로 정의된 데이터를 공간 영역에서 주파수 영역으로 변환하는 방법

- 벡터 양자화 : 여러 개의 입력 값을 가지고 있는 벡터를 간단한 형태의 벡터로 매핑하는 방법

- 보간 기법 : 몇 개의 점에 주어진 함수 값을 기초로 그 점들 사이의 함수 값을 구하는 근사 계산법

<br>
<br>

# 4. 학습하기

<br>

## 4-1. 데이터 압축의 개요

<br>

### 4-1-1. 데이터 압축의 개요

- 데이터 압축

  - 데이터를 더 작은 공간에 효율적으로 기록하기 위한 기술

  - 데이터 양이 많으면

    - 저장장치에 효율적으로 저장하기 어렵고

    - 통신 네트워크를 이용하여 전송하는데 어려움 발생

    - 따라서 많은 데이터 양을 줄여주는 압축 기술이 필요

- 데이터 압축의 기본 원리

  - 데이터에 포함되어 있는 중복성을 제거하는 것

  - 데이터의 중복성을 제거하는 방법

    - 통계적 중복성

      - 정보이론을 기초로 데이터의 통계에서 나타난 통계적 중복을 제거

    - 주관적 중복성

      - 인간의 시각구조를 기초로 눈에 보이는 주관적 중복 데이터 제거

    - 공간적 중복성

      - 데이터들 사이에 나타나는 상관관계를 이용하여 공간적 중복성 제거

    - 시간적 중복성

      - 영상 프레임간의 차이와 같은 시간적 중복을 제거

- 데이터 압축 기법

  - 압축할 때 정보의 손실 정도에 따라

    - 무손실 압축(lossless) - 가역 압축

    - 손실 압축(lossy) - 비가역 압축

    - 혼합 압축(hybrid) - 무손실과 손실 압축이 함께 사용

  - 압축에 이용되는 성질 측면에 따라

    - 엔트로피 압축 - 무손실 압축

      - 압축시킬 대상의 성질을 고려하지 않는 압축 기법

    - 대상 기반 압축 - 손실 압축

      - 압축하고자 하는 대상 정보의 특성을 이용하여 압축

- 데이터 압축 기법에 대한 요구사항

  - 압축/복원은 원 데이터와 큰 차이가 없어야 한다.

  - 압축 알고리즘 자체가 복잡하지 않아야 한다.

  - 압축/복원 시 지연 시간이 너무 길지 않아야 한다.

  - 다양한 데이터들에 대한 압축을 할 수 있어야 한다.

  - 하드웨어와 소프트웨어적인 구현이 모두 가능해야 한다.

<br>

### 4-1-2. 무손실 압축을 이용한 기법

- 무손실 압축

  - 압축된 정보를 다시 복원한 경우에 압축되기 이전의 상태와 동일한 내용을 갖는다. (가역압축)

  - 손실 압축에 비해 압축률이 떨어지고, 압축 알고리즘에 제한이 많다.

  - 의료 영상, 설계 도면 등 자료가 손실되면 안 되는 분야에 사용

- 무손실 압축 기법

  - 반복길이 코딩

  - 허프만 코딩

  - LZW 코딩

- 반복길이 코딩

  - 한 데이터에서 자주 반복되는 코드들의 사용을 최대한 억제

  - 예 : 반복되는 데이터는 하나의 값과 그 값의 반복횟수로 표현

    - 압축할 데이터 → (730000000)

    - 압축 후 데이터 → (730n7)

    - 위의 수열에서 0이 7번 반복되기 때문에 0과 반복횟수를 나타낼 수 있는 플래그(n)과 반복횟수 7로 나타낸다.

    - 9바이트 크기의 데이터를 5바이트 크기의 데이터로 압축 가능

  - 만화, 그래픽 등의 영상에서 좋은 압축률을 보인다.

- 허프만 코딩

  - 데이터에 나타나는 문자의 등장 빈도에 따라서 다른 길이의 부호를 사용하는 기법

  - 가변 길이 부호화 방법으로 영상 부호화에 많이 사용

  - 예 : AABBAC 라는 문자열이 있다고 하면

    - 각 문자의 빈도수는 A는 3번, B는 2번, C는 1번이므로

    - A에 0, B에 10, C에 11을 부여한다면

    - 위 문자열은 A(0)A(0)B(10)A(0)C(11)이므로 001010011로 표현 가능

      - 결국 원래 6 Byte(48비트)로 구성된 문자열 AABBAC가 001010011인 9비트로 줄어들어 약 20%로 압축된다.

- LZW 코딩

  - 허프만 코딩을 응용한 기법

  - 파일을 읽어 들이면서 연속된 문자열에 대한 표를 만들고, 다음에 같은 문자열이 발견되면 이 표를 참조하여 압축

  - GIF나 TIFF 파일 형식에서 사용

<br>

### 4-1-3. 손실 압축을 이용한 기법

- 손실 압축

  - 압축된 정보를 다시 복원한 경우에 압축되기 이전의 상태와 동일하지 않는 내용을 갖는다. (비가역압축)

  - 손실 압축은 압축률을 높이는데 주안점

    - 내용을 인식하는데 별로 영향을 주지 않는 범위 내에서 많은 정보를 삭제함으로써 정보의 손실을 감수

    - 압축률은 높지만 이미지의 경우 품질은 저하되고, 정확한 이미지의 복원이 어렵다.

  - 압축 알고리즘의 제한이 없으며, 멀티미디어 분야에 많이 사용

- 손실 압축 기법

  - 변환 기법

  - 예측 기법

  - 벡터 양자화

  - 보간 기법

- 변환 기법

  - 데이터의 영역을 적당한 변환을 통해 다른 영역으로 옮김으로써 데이터를 구성하는 단위 정보의 개수를 줄이는 기법

  - 대표적인 변환 기법

    - PCM 변환

      - 가장 기본으로 사용되는 변환 기법

      - 아날로그 신호를 표본화, 양자화, 부호화를 거쳐 디지털 신호로 변환하는 기법

    - 이산 코사인 변환(DCT)

      - DCT은 2차원 행렬로 정의된 영상 데이터를 공간 영역에서 주파수 영역으로 변환하는 방법

      - JPEG이나 MPEG, H.261 등의 부호화에 주로 사용

- 예측 기법

  - 이전 정보로부터 다음 정보를 예측하고, 예측에 의해 발생된 오류를 소량의 오류 보정 정보를 이용하여 보정함으로써 원래 정보를 복원할 수 있다는 사실에 기반한 기법

  - 대표적인 예측 기법

    - DPCM

      - PCM을 통해 부호화된 데이터를 압축하기 위해 사용되는 가장 간단한 예측 기법

      - 부호화하려는 정보를 직전 정보의 값을 이용하여 예측한다.

      - 인접한 값과의 차이 값을 이용하므로 용량이 작아질 수 있으나, 진폭의 변화가 크면 효율성이 떨어지는 단점이 있다.

    - ADPCM

      - DPCM의 문제점을 해결하는 방안

        - 경사 과부하 문제 : 진폭이 크게 변하면, 즉 갑작스런 경사 변화 때문에 발생하는 문제

      - 인접한 값과의 차이가 크면 진폭을 나누는 단계를 크게 하고, 차이가 작으면 진폭을 나누는 단게를 작게 하는 방법

    - 델타 변조

      - DPCM 부호화의 특수한 형태

        - 직전 값과 현재 값의 차이를 단지 1 비트로 부호화

        - 따라서 신호 값은 직전의 값보다 1단계 증가하거나 1단계 감소

      - 단순히 1단계 차이만을 갖기 때문에 표본화 속도에 대해 값이 급격히 변하지 않는 신호의 부호화에 적합

- 벡터 양자화

  - 여러 개의 입력 값을 가지고 있는 벡터를 간단한 형태의 벡터로 매핑하는 방법

  - 벡터 양자화 과정

    - (1) 데이터 스트림을 먼저 벡터라고 부르는 블록으로 나눈다.

    - (2) 코드북인 참조표를 만든다. (참조표는 각각 v바이트로 구성된 패턴의 집합이다.)

    - (3) 코드북에서 각각의 벡터와 일치하는 패턴을 찾는다.

    - (4) 일치하는 패턴을 찾으면 해당되는 인덱스 값으로 그 벡터값을 기술

  - 벡터 양자화의 문제점

    - 실제 데이터 빈도를 잘 활용할 수 있는 최적의 코드북 생성 문제

    - 코드북에서 가장 유사한 코드 패턴을 찾는 최적의 알고리즘 구현 문제

  - 벡터 양자화의 예

    - 프렉탈 변환

  - 음성 부호화에 적합

- 보간 기법

  - 원래 보간법은 몇 개의 점에 주어진 함수 값을 기초로 그 점들 사이의 함수 값을 구하는 근사 계산법을 의미

  - 픽셀 레벨에서 보간 압축은 픽셀들을 띄엄띄엄 전송하고 그 사이의 픽셀은 보간 기법을 통해 복구하는 방법

    - 컬러 서브샘플링이라는 방법을 사용하며, YUV, YIQ 컬러 모델의 영상에서 유용하게 사용

    - 예를 들어 YUV 영상시스템에서 컬러 서브샘플링은 수평, 수직 양면으로 U, V요소를 각 한 픽셀씩 건너 뛰어 서브샘플링 할 수 있다.

<br>

### 4-1-4. 혼합 압축을 이용한 기법

- 혼합압축이란 손실 압축과 무손실 압축을 함께 사용하는 방법

- 실제 멀티미디어 데이터 압축에는 혼합 압축이 많이 사용

- 혼합 압축 단계

  - (1) 아날로그 신호를 디지털 데이터로 바꾸는 데이터 준비 단계

  - (2) 준비된 데이터를 구성하는 정보단위들의 개수와 크기를 변환 기법 등을 이용하여 줄이는 단계

  - (3) 양자화 기법을 이용하여 중요도가 낮은 정보들을 정리하는 단계

  - (4) 허프만 코딩이나 반복길이 코딩과 같은 무손실 압축기법을 이용하는 단계

- JPEG과 MPEG 등이 혼합 압축 방법 사용

<br>

## 4-2. 디지털 사운드의 압축

<br>

### 4-2-1. 개요

- 디지털 사운드 압축의 개요

  - 저장 매체에 저장되는 디지털 사운드는 대용량

    - 3분 동안의 음악 → CD 음질인 경우 약 30MB 이상의 용량 필요

  - 이러한 큰 용량의 디지털 사운드가 인터넷에서 자유롭게 송수신되기 위해서는 저용량, 고품질의 압축이 필요

  - 저용량, 고품질의 압축을 위한 다양한 디지털 사운드의 압축 형식 (MP3, AAC, 돌비 디지털, WMA, 리얼 오디오)

- 디지털 사운드 압축의 최근 동향

  - 다양한 압축형식 지원

  - 오디오 스트리밍 기능 지원

  - 불법복제 방지 기술

  - 음악 인코딩 툴 지원

  - 음악 DB 관리 기술 등

<br>

### 4-2-2. 압축 코덱의 종류

- MP3

  - MPEG-1 Audio Layer-3의 줄임말

    - MPEG 규격에서 오디오 데이터를 위한 규격 중의 하나인 Audio Layer-3이라는 의미

    - 비교적 용량이 큰 오디오 신호를 압축하여 효율성을 높이기 위해 개발된 압축방식

  - MPEG Audio의 Layer

    - Layer-1 : 가장 단순한 레이어, 일반 사용자에게 적합

    - Layer-2 : Layer-1에 비해 높은 압축율, 방송과 같은 전문 오디오에 사용

    - Layer-3 : 원본과 차이가 없을 정도의 음질, 보다 전문적인 오디오를 위한 규격

- AAC

  - 공식명칭은 MPEG-2 AAC

    - MPEG-2는 비디오에서 사용되며, MPEG-1에 비해 4배 정도의 높은 화질과 다중언어 지원 등 성능이 우수

  - AAC의 장점

    - AAC의 데이터는 가변 구조로 되어 있어 압축률에 따라 크기가 변하므로 전체 파일의 용량이 줄어든다. (MP3 구조는 고정적)

    - MP3와 비교하면 최대 30%까지 용량을 줄일 수 있다.

    - 음질의 향상을 위해 양자화 보정기술을 적용함으로써 잡음을 감소하고 원음에 가깝게 만든다.

  - AAC의 단점

    - 저작권 복제 방지시스템으로 인해 플레이어 사이의 호환성 부족

    - 원음을 인코딩하는데 걸리는 시간이 MP3에 비해 최대 10배 이상 소요

- 돌비 디지털

  - 돌비 디지털 혹은 돌비 AC-3

    - 돌비 AC-3는 Audio Coding-3의 약자로, 돌비 연구소가 개발한 디지털 오디오 코딩 중 3번째 것이라는 의미

    - 영화, HDTV 등에서 사용되는 오디오 압축과 음성 부호화를 위해 개발되었으며, 현재는 돌비 디지털로 용어가 통일

  - 돌비 디지털은

    - 5.1 채널(5개의 오디오 채널과 1개의 저주파 효과 채널)을 가진 입체 음향 지원 포맷(MP3나 AAC는 2채널에 기반을 둔 압축 포맷)

    - 장점은 기존 아날로그 서라운드 시스템에 비해 각 채널이 완전 분리되어 신호 간섭이 없이 깨끗한 소리를 전달 가능

    - 단점은 영화의 사운드 트랙용으로 사용되므로 음질이 CD보다는 떨어진다.

    - DVD-Video 규격의 공식 사운드 소스로 지정

- WMA

  - 마이크로 소프트사에서 멀티미디어 압축을 위해 개발한 고품질의 오디오 코덱

  - 용량 면에서는 MP3의 절반 정도이면서, 음질은 동일한 정도

  - 향상된 인코딩 알고리즘을 사용하기 때문에 훨씬 빠른 인코딩 시간

- 리얼오디오

  - 리얼오디오 포맷 : RA, RAM, RM

  - 네트워크에서 실시간으로 멀티미디어 데이터를 전송하는 스트리밍 기술 중의 하나

  - 빠른 전송률과 고압축률

  - 리얼미디어 포맷

    - 음성만을 지원하는 리얼오디오와 비디오만을 지원하는 리얼비디오가 혼합된 포맷

    - 음성과 동영상을 모두 지원

    - 인코딩의 속도 개선을 위해 서버의 부하를 최대한 줄이면서 빠른 속도로 인코딩할 수 있는 구조로 개발되었기 때문에 MP3등에 비해 상대적으로 음질이 많이 떨어진다.

<br>
<br>

# 5. 정리하기

- 데이터 압축은 압축할 때 정보의 손실 정도에 따라 크게 무손실(lossless) 압축과 손실(loss) 압축으로 나눌 수 있으며, 이 외에 혼합(hybrid) 압축도 있다.

- 무손실 압축은 압축된 정보를 다시 복원한 경우에 압축되기 이전의 상태와 동일한 내용을 가지고 있는, 즉 손실이 없는 압축을 말한다.

- 무손실 압축기법으로는 반복길이 코딩(Run Length Coding), 허프만 코딩(Huffman Coding), LZW 코딩(Lempel-Ziv-Welch Coding)등이 있다.

- 손실 압축은 압축된 정보를 다시 복원한 경우에 압축되기 이전의 상태와 동일하지 않은 내용을 가질 수 있는, 즉 손실이 있는 압축을 말한다.

- 손실 압축기법으로는 변환기법, 예측기법, 벡터양자화, 보간기법 등이 있다.

- 혼합 압축은 손실 압축과 무손실 압축을 함께 사용하는 방법이다.

- 혼합 압축기법은 JPEG과 MPEG 등에서 주로 사용된다.

- 디지털 사운드는 인터넷에서 자유롭게 송∙수신되기 위해서 저용량, 고품질의 압축이 필요하다.

- 디지털 사운드의 압축 형식으로는 MP3, AAC, 돌비 디지털, WMA, 리얼오디오 포맷 등이 있다.

<br>
